<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Our Valentine Story ğŸ’—</title>

<style>
html,body{
    margin:0;
    height:100%;
    background:linear-gradient(180deg,#ffdde9,#ffd1e3,#ffb6d6);
    font-family:'Georgia',serif;
    color:#4a0b2e;
    overflow:hidden;
}

/* -------- FLOATING HEARTS -------- */
.heart{
    position:fixed;
    bottom:-50px;
    font-size:28px;
    animation: floatUp 7s linear infinite;
    opacity:0.8;
    pointer-events:none;
}
@keyframes floatUp{
    from{transform:translateY(0) translateX(0) scale(1);opacity:1;}
    to{transform:translateY(-110vh) translateX(40px) scale(1.2);opacity:0;}
}

/* -------- SLIDESHOW STAGE -------- */
#stage{
    position:fixed;
    top:0; left:0;
    width:100vw;
    height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
}

.slide{
    position:absolute;
    width:100%;
    height:100%;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    text-align:center;
    opacity:0;
    transition:opacity 1.5s ease-in-out;
}

.slide.active{ opacity:1; }

/* -------- IMAGES -------- */
.cine-img{
    max-width:340px;
    border-radius:18px;
    border:3px solid hotpink;
    box-shadow:0 0 30px rgba(255,105,180,0.8);
}

/* -------- VIDEO -------- */
video{
    width:600px;
    max-width:90%;
    border-radius:18px;
    border:3px solid hotpink;
}

/* -------- TWO FRAMES -------- */
.frames{
    display:flex;
    gap:30px;
    flex-wrap:wrap;
    justify-content:center;
}
.frame{
    border:3px solid hotpink;
    padding:10px;
}

/* -------- BUTTONS -------- */
button{
    padding:15px 40px;
    font-size:20px;
    border:none;
    border-radius:30px;
    cursor:pointer;
    margin:10px;
}
#yes{background:#ff4081;color:white;}
#no{background:#333;color:white;position:relative;}

#fireworks,#final-line{display:none;}
</style>
</head>

<body>

<!-- MUSIC -->
<audio id="bgm" loop>
  <source src="song.mp3" type="audio/mp3">
</audio>

<div id="stage">

<!-- SLIDE 1 -->
<div class="slide active">
<h2>âœ¨ Our Beginning âœ¨</h2>
<img src="her1.jpeg" class="cine-img">
<p>Some stories begin with magic ğŸ’«</p>
</div>

<!-- SLIDE 2 (VIDEO) -->
<div class="slide">
<h2>ğŸ¬ The Moment That Changed Everything</h2>
<video id="v1" muted playsinline>
  <source src="yourvideo.mp4" type="video/mp4">
</video>
<p>Your voice stayed in my heart ğŸ’•</p>
</div>

<!-- SLIDE 3 -->
<div class="slide">
<h2>ğŸ’ You Became My World</h2>
<img src="her2.jpeg" class="cine-img">
<p>You are my love, my life, my peace ğŸ’–</p>
</div>

<!-- SLIDE 4 -->
<div class="slide">
<h2>ğŸ¤ My Promises</h2>
<p>We will build our beautiful home ğŸ¡ğŸ’•</p>
</div>

<!-- SLIDE 5 -->
<div class="slide">
<h2>ğŸ–¼ï¸ Two Frames â€” You & Me</h2>
<div class="frames">
  <div class="frame">
    <h3>This is YOU ğŸ’—</h3>
    <img src="her.jpeg" class="cine-img">
  </div>
  <div class="frame">
    <h3>This is ME ğŸ’™</h3>
    <img src="you.jpeg" class="cine-img">
  </div>
</div>
<p>Waiting for the same frame ğŸ¤</p>
</div>

<!-- SLIDE 6 -->
<div class="slide">
<h2>ğŸ’“ Two Years Together</h2>
<img src="c1.jpeg" class="cine-img" id="sl1">
<p>Two beautiful years ğŸ’</p>
</div>

<!-- FINAL SLIDE -->
<div class="slide">
<img src="joint.jpeg" class="cine-img">
<h1>ğŸ’ Will You Be My Valentine? ğŸ’</h1>

<button id="yes">YES ğŸ’–</button>
<button id="no">NO âŒ</button>

<div id="fireworks">ğŸ† SHE SAID YES ğŸ†</div>
<div id="final-line">ğŸ’— Varun loves Somii in every universe ğŸ’—</div>
</div>

</div>

<script>
// ========== RUN ONLY AFTER PAGE LOAD ==========
document.addEventListener("DOMContentLoaded", function(){

// ---- floating hearts ----
setInterval(()=>{
  let h=document.createElement("div");
  h.innerHTML="ğŸ’—";
  h.className="heart";
  h.style.left=Math.random()*100+"vw";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),7000);
},500);

// ---- slideshow ----
const slides = document.querySelectorAll(".slide");
let index = 0;

setInterval(()=>{
  slides[index].classList.remove("active");
  index = (index + 1) % slides.length;
  slides[index].classList.add("active");

  // control video
  const vid = document.getElementById("v1");
  vid.pause();
  vid.currentTime = 0;

  if(index === 1){
    vid.play().catch(()=>{});
  }

}, 15000);

// ---- rotate c1,c2,c3 ----
let pics = ["c1.jpeg","c2.jpeg","c3.jpeg"];
let i = 0;
setInterval(()=>{
  document.getElementById("sl1").src = pics[i];
  i = (i + 1) % pics.length;
},3000);

// ---- audio unlock (MOST RELIABLE WAY) ----
const audio = document.getElementById("bgm");
["click","touchstart"].forEach(evt=>{
  document.addEventListener(evt, ()=>{
    audio.play().catch(()=>{});
  }, { once: true });
});

// ---- runaway NO button ----
document.getElementById("no").addEventListener("mouseover",()=>{
  document.getElementById("no").style.left = (Math.random()*350 - 175) + "px";
  document.getElementById("no").style.top = (Math.random()*200 - 100) + "px";
});

// ---- final message ----
document.getElementById("yes").addEventListener("click",()=>{
  document.getElementById("fireworks").style.display="block";
  document.getElementById("final-line").style.display="block";
});

}); // end DOMContentLoaded
</script>

</body>
</html>
